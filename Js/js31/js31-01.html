<!DOCTYPE html>
<html lang="en">
<head>
    <title>구글단위변환(강사님 풀이)</title>
    <script>
        document.addEventListener("DOMContentLoaded",()=>{
            /*
            input이 2개. 사이에 '='
            select가 2개.
            select 안에 목록들 입력.
             */
            const div = document.createElement("div");
            const input1 = document.createElement('input');
            const input2 = document.createElement('input');
            const select1 = document.createElement('select');
            const select2 = document.createElement('select');

            document.body.appendChild(div).append(input1,select1,'=',input2,select2);

            input1.setAttribute('value',1);
            input2.setAttribute('value',1000);
            /* 기본 단위 입력. */

            const omenu = ['킬로미터', '미터', '센티미터', '밀리미터', '마이크로미터'];
            const fix = [1,0.001,0.00001,0.000001,0.000000001]
            // 단위 마다 해당 숫자를 입력.
            
            omenu.forEach((v,i)=>{
                let option1 = document.createElement('option');
                select1.appendChild(option1);
                option1.setAttribute('value',fix[i]);
                // for( of ) 사용 시
                // fix[omenu.indexof(menu)]
                // 사용해야 한다.
                option1.innerHTML=v;
            })
            omenu.forEach((v,i)=>{
                let option2 = document.createElement('option');
                select2.appendChild(option2);
                option2.setAttribute('value',fix[i]);
                option2.innerHTML=v;
            })
            const opt = document.body.querySelectorAll('option');

            /* DOM 상으로 킬로미터와 미터를 미리 선택 해놓기 위해 사용한 구문. */
            opt[0].setAttribute('selected',true);
            opt[omenu.length+1].setAttribute('selected',true);
            // 6이라고 적어도 되지만, 첫 배열 끝나고 그 다음의 첫 시작을 의미하므로,

            
            /* 기능 삽입 */
            let in1=1,in2=1000,sel1=1,sel2=0.001;
            // 변수 선언.
            /* 자바스크립트 상으로 킬로미터와 미터에 대한 변수 초깃값 지정. */
            
            
            input1.addEventListener("keyup",(event)=>{
                in1 = event.currentTarget.value;
                // 이렇게 넣으면 속성으로 들어가진 않는다.
                in2 = in1 * (sel1 / sel2);
                input2.value = in2;// 계산한 값을 입력.
            })
            input2.addEventListener("keyup",(event)=>{
                in2 = event.currentTarget.value;
                in1 = in2 * (sel2 / sel1);
                input1.value = in1;// 계산한 값을 입력.
            })
            select1.addEventListener("change",()=>{
                sel1 = event.currentTarget.value;
                in1 = in2 * (sel2 / sel1);
                input1.value = in1;
            })
            select2.addEventListener("change",()=>{
                sel2 = event.currentTarget.value;
                in2 = in1 * (sel1 / sel2);
                input2.value = in2;
            })





            /* 둘의 차이 */

            // input2.value = in2;
            // 자바스크립트로 value 속성에 입력하는 방식.
            // option2.setAttribute('value',fix[i]);
            // DOM으로 입력하는 방식.

            


            // 단위변환 연습 끝.
        })
    </script>
</head>
<body>
    
</body>
</html>